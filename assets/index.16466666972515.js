var T=Object.defineProperty;var L=Object.getOwnPropertySymbols;var z=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable;var B=(e,n,a)=>n in e?T(e,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[n]=a,E=(e,n)=>{for(var a in n||(n={}))z.call(n,a)&&B(e,a,n[a]);if(L)for(var a of L(n))W.call(n,a)&&B(e,a,n[a]);return e};import{d as O,h as $,a0 as R,z as D,k as _,l as N,ac as M,n as U,Z as f,o as r,a as v,W as I,P as u,O as V,J as m,X as J,Q,R as X,b as s,V as Z,T as F,F as j,a5 as q}from"./vue.1646666697251.js";import{i as P}from"./getStyleSheets.1646666697251.js";import{_ as A}from"./index.1646666697251.js";const G=O({name:"iconSelector",emits:["update:modelValue","get","clear"],props:{prepend:{type:String,default:()=>"ele-Pointer"},placeholder:{type:String,default:()=>"\u8BF7\u8F93\u5165\u5185\u5BB9\u641C\u7D22\u56FE\u6807\u6216\u8005\u9009\u62E9\u56FE\u6807"},size:{type:String,default:()=>"default"},title:{type:String,default:()=>"\u8BF7\u9009\u62E9\u56FE\u6807"},type:{type:String,default:()=>"ele"},disabled:{type:Boolean,default:()=>!1},clearable:{type:Boolean,default:()=>!0},emptyDescription:{type:String,default:()=>"\u65E0\u76F8\u5173\u56FE\u6807"},modelValue:String},setup(e,{emit:n}){const a=$(),y=$(),o=R({fontIconPrefix:"",fontIconVisible:!1,fontIconWidth:0,fontIconSearch:"",fontIconTabsIndex:0,fontIconSheetsList:[],fontIconPlaceholder:"",fontIconType:"ali",fontIconShow:!0}),k=()=>{if(o.fontIconVisible=!0,!e.modelValue)return!1;o.fontIconSearch="",o.fontIconPlaceholder=e.modelValue},h=()=>{setTimeout(()=>{o.fontIconSheetsList.filter(i=>i===o.fontIconSearch).length<=0&&(o.fontIconSearch="")},300)},S=()=>{if(e.modelValue==="")return!1;o.fontIconPlaceholder=e.modelValue,o.fontIconPrefix=e.modelValue},b=D(()=>{if(!o.fontIconSearch)return o.fontIconSheetsList;let t=o.fontIconSearch.trim().toLowerCase();return o.fontIconSheetsList.filter(i=>{if(i.toLowerCase().indexOf(t)!==-1)return i})}),w=()=>{U(()=>{o.fontIconWidth=a.value.$el.offsetWidth})},g=()=>{window.addEventListener("resize",()=>{w()})},C=async t=>{o.fontIconSheetsList=[],t==="ali"?await P.ali().then(i=>{o.fontIconSheetsList=i.map(p=>`iconfont ${p}`)}):t==="ele"?await P.ele().then(i=>{o.fontIconSheetsList=i}):t==="awe"&&await P.awe().then(i=>{o.fontIconSheetsList=i.map(p=>`fa ${p}`)}),o.fontIconPlaceholder=e.placeholder,S(),y.value.wrap$.scrollTop=0},c=t=>{o.fontIconType=t,C(t)},l=t=>{o.fontIconPlaceholder=t,o.fontIconVisible=!1,o.fontIconPrefix=t,n("get",o.fontIconPrefix),n("update:modelValue",o.fontIconPrefix)},d=()=>{o.fontIconPrefix="",n("clear",o.fontIconPrefix),n("update:modelValue",o.fontIconPrefix)};return _(()=>{var t,i,p;e.type==="all"?((t=e.modelValue)==null?void 0:t.indexOf("iconfont"))>-1?c("ali"):((i=e.modelValue)==null?void 0:i.indexOf("ele-"))>-1?c("ele"):((p=e.modelValue)==null?void 0:p.indexOf("fa"))>-1?c("awe"):c("ali"):c(e.type),g(),w()}),N(()=>e.modelValue,()=>{S()}),E({inputWidthRef:a,selectorScrollbarRef:y,fontIconSheetsFilterList:b,onColClick:l,onIconChange:c,onClearFontIcon:d,onIconFocus:k,onIconBlur:h},M(o))}}),H={class:"icon-selector"},K={class:"icon-selector-warp"},Y={class:"icon-selector-warp-title flex"},x={class:"flex-auto"},ee={key:0,class:"icon-selector-warp-title-tab"},oe={class:"icon-selector-warp-row"},ne={class:"flex-margin"},te={class:"icon-selector-warp-item-value"};function le(e,n,a,y,o,k){const h=f("SvgIcon"),S=f("el-input"),b=f("el-col"),w=f("el-row"),g=f("el-empty"),C=f("el-scrollbar"),c=f("el-popover");return r(),v("div",H,[I(c,{placement:"bottom",width:e.fontIconWidth,visible:e.fontIconVisible,"onUpdate:visible":n[4]||(n[4]=l=>e.fontIconVisible=l),"popper-class":"icon-selector-popper"},{reference:u(()=>[I(S,{modelValue:e.fontIconSearch,"onUpdate:modelValue":n[0]||(n[0]=l=>e.fontIconSearch=l),placeholder:e.fontIconPlaceholder,clearable:e.clearable,disabled:e.disabled,size:e.size,ref:"inputWidthRef",onClear:e.onClearFontIcon,onFocus:e.onIconFocus,onBlur:e.onIconBlur},{prepend:u(()=>{var l,d;return[(e.fontIconPrefix===""?((l=e.prepend)==null?void 0:l.indexOf("ele-"))>-1:((d=e.fontIconPrefix)==null?void 0:d.indexOf("ele-"))>-1)?(r(),V(h,{key:0,name:e.fontIconPrefix===""?e.prepend:e.fontIconPrefix,class:"font14"},null,8,["name"])):(r(),v("i",{key:1,class:m([e.fontIconPrefix===""?e.prepend:e.fontIconPrefix,"font14"])},null,2))]}),_:1},8,["modelValue","placeholder","clearable","disabled","size","onClear","onFocus","onBlur"])]),default:u(()=>[I(J,{name:"el-zoom-in-top"},{default:u(()=>[Q(s("div",K,[s("div",Y,[s("div",x,Z(e.title),1),e.type==="all"?(r(),v("div",ee,[s("span",{class:m([{"span-active":e.fontIconType==="ali"},"ml10"]),onClick:n[1]||(n[1]=l=>e.onIconChange("ali")),title:"iconfont \u56FE\u6807"},"ali",2),s("span",{class:m([{"span-active":e.fontIconType==="ele"},"ml10"]),onClick:n[2]||(n[2]=l=>e.onIconChange("ele")),title:"elementPlus \u56FE\u6807"},"ele",2),s("span",{class:m([{"span-active":e.fontIconType==="awe"},"ml10"]),onClick:n[3]||(n[3]=l=>e.onIconChange("awe")),title:"fontawesome \u56FE\u6807"},"awe",2)])):F("",!0)]),s("div",oe,[I(C,{ref:"selectorScrollbarRef"},{default:u(()=>[e.fontIconSheetsFilterList.length>0?(r(),V(w,{key:0,gutter:10},{default:u(()=>[(r(!0),v(j,null,q(e.fontIconSheetsFilterList,(l,d)=>(r(),V(b,{xs:6,sm:4,md:4,lg:4,xl:4,onClick:t=>e.onColClick(l),key:d},{default:u(()=>[s("div",{class:m(["icon-selector-warp-item",{"icon-selector-active":e.fontIconPrefix===l}])},[s("div",ne,[s("div",te,[I(h,{name:l},null,8,["name"])])])],2)]),_:2},1032,["onClick"]))),128))]),_:1})):F("",!0),e.fontIconSheetsFilterList.length<=0?(r(),V(g,{key:1,"image-size":100,description:e.emptyDescription},null,8,["description"])):F("",!0)]),_:1},512)])],512),[[X,e.fontIconVisible]])]),_:1})]),_:1},8,["width","visible"])])}var re=A(G,[["render",le]]);export{re as I};
