var k=Object.defineProperty;var y=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var b=(e,o,s)=>o in e?k(e,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[o]=s,F=(e,o)=>{for(var s in o||(o={}))V.call(o,s)&&b(e,s,o[s]);if(y)for(var s of y(o))C.call(o,s)&&b(e,s,o[s]);return e};import{d as P,aA as N,aE as R,a0 as $,z as v,ac as B,O as U,P as n,Z as i,o as A,W as t,b as I,J as T,V as q,U as x}from"./vue.1646666697251.js";import{_ as E,P as L,u as j,l as z,S,Q as D,R as H,b as O}from"./index.1646666697251.js";const Q=P({name:"loginAccount",setup(){const{t:e}=L(),o=j(),s=N(),g=R(),u=$({isShowPassword:!1,ruleForm:{userName:"admin",password:"123456",code:"1234"},loading:{signIn:!1}}),w=v(()=>z(new Date)),h=async()=>{u.loading.signIn=!0;let l=[],a=[],d=["admin"],p=["btn.add","btn.del","btn.edit","btn.link"],r=["common"],c=["btn.add","btn.link"];u.ruleForm.userName==="admin"?(l=d,a=p):(l=r,a=c);const _={userName:u.ruleForm.userName,photo:u.ruleForm.userName==="admin"?"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=1813762643,1914315241&fm=26&gp=0.jpg":"https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=317673774,2961727727&fm=26&gp=0.jpg",time:new Date().getTime(),roles:l,authBtnList:a};S.set("token",Math.random().toString(36).substr(0)),S.set("userInfo",_),o.dispatch("userInfos/setUserInfos",_),o.state.themeConfig.themeConfig.isRequestRoutes?(await H(),m()):(await D(),m())},m=()=>{var d,p,r,c;let l=w.value;(d=s.query)!=null&&d.redirect?g.push({path:(p=s.query)==null?void 0:p.redirect,query:Object.keys((r=s.query)==null?void 0:r.params).length>0?JSON.parse((c=s.query)==null?void 0:c.params):""}):g.push("/"),u.loading.signIn=!0;const a=e("message.signInText");O.success(`${l}\uFF0C${a}`)};return F({onSignIn:h},B(u))}}),W=x("1234");function G(e,o,s,g,u,w){const h=i("ele-User"),m=i("el-icon"),l=i("el-input"),a=i("el-form-item"),d=i("ele-Unlock"),p=i("ele-Position"),r=i("el-col"),c=i("el-button"),_=i("el-form");return A(),U(_,{size:"large",class:"login-content-form"},{default:n(()=>[t(a,{class:"login-animation1"},{default:n(()=>[t(l,{type:"text",placeholder:e.$t("message.account.accountPlaceholder1"),modelValue:e.ruleForm.userName,"onUpdate:modelValue":o[0]||(o[0]=f=>e.ruleForm.userName=f),clearable:"",autocomplete:"off"},{prefix:n(()=>[t(m,{class:"el-input__icon"},{default:n(()=>[t(h)]),_:1})]),_:1},8,["placeholder","modelValue"])]),_:1}),t(a,{class:"login-animation2"},{default:n(()=>[t(l,{type:e.isShowPassword?"text":"password",placeholder:e.$t("message.account.accountPlaceholder2"),modelValue:e.ruleForm.password,"onUpdate:modelValue":o[2]||(o[2]=f=>e.ruleForm.password=f),autocomplete:"off"},{prefix:n(()=>[t(m,{class:"el-input__icon"},{default:n(()=>[t(d)]),_:1})]),suffix:n(()=>[I("i",{class:T(["iconfont el-input__icon login-content-password",e.isShowPassword?"icon-yincangmima":"icon-xianshimima"]),onClick:o[1]||(o[1]=f=>e.isShowPassword=!e.isShowPassword)},null,2)]),_:1},8,["type","placeholder","modelValue"])]),_:1}),t(a,{class:"login-animation3"},{default:n(()=>[t(r,{span:15},{default:n(()=>[t(l,{type:"text",maxlength:"4",placeholder:e.$t("message.account.accountPlaceholder3"),modelValue:e.ruleForm.code,"onUpdate:modelValue":o[3]||(o[3]=f=>e.ruleForm.code=f),clearable:"",autocomplete:"off"},{prefix:n(()=>[t(m,{class:"el-input__icon"},{default:n(()=>[t(p)]),_:1})]),_:1},8,["placeholder","modelValue"])]),_:1}),t(r,{span:1}),t(r,{span:8},{default:n(()=>[t(c,{class:"login-content-code"},{default:n(()=>[W]),_:1})]),_:1})]),_:1}),t(a,{class:"login-animation4"},{default:n(()=>[t(c,{type:"primary",class:"login-content-submit",round:"",onClick:e.onSignIn,loading:e.loading.signIn},{default:n(()=>[I("span",null,q(e.$t("message.account.accountBtnText")),1)]),_:1},8,["onClick","loading"])]),_:1})]),_:1})}var Y=E(Q,[["render",G],["__scopeId","data-v-150384e2"]]);export{Y as default};
